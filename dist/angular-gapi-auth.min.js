!function(){angular.module("angular-gapi",[]),angular.module("angular-gapi").provider("GAuth",function(){var n="",t="",i=!1;this.apiKey=function(t){n=t?t:""},this.clientId=function(n){clientId=n?n:""},this.scopes=function(n){t=!!n instanceof Array?n.join(" "):""},this.loginOnLoad=function(n){i=+!!n},this.$get=["$window","$q","$rootScope",function(e,o,u){function a(){u.$emit("GoogleAuthInitialized"),e.gapi.client.setApiKey(n),e.gapi.auth2.init({client_id:clientId,scope:t}).then(c)}function c(){u.$emit("GoogleAuthAuthenticated"),g=gapi.auth2.getAuthInstance(),!g.isSignedIn.get()&&i&&g.signIn()}var g=void 0,l="https://apis.google.com/js/api.js?onload=",r=(o.defer(),{});e.globalGoogleAuthInitialized=function(){u.$emit("GoogleAuthLoaded"),e.gapi.load("client:auth2",a)};var s=function(n,t){var i=document.createElement("script");i.src=n+t,document.body.appendChild(i)};return s(l,"globalGoogleAuthInitialized"),r.login=function(){if(g)return g.signIn()},r.logout=function(){if(g)return g.signOut()},r.isAuthenticated=function(){if(g)return g.isSignedIn.get()},r.getToken=function(){return auth&&g.isSignedIn.get()?g.currentUser.get().getAuthResponse().access_token:""},r}]})}();